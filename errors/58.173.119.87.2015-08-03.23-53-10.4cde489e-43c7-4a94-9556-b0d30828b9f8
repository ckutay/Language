(dp1
S'output'
p2
S"<type 'exceptions.NameError'> global name 'w' is not defined"
p3
sS'layer'
p4
S'/usr/local/web2py/applications/Bundjalung/controllers/plugin_wiki.py'
p5
sS'code'
p6
S'# This file was developed by Massimo Di Pierro\n# It is released under BSD, MIT and GPL2 licenses\n\n##########################################################\n# code to handle wiki pages\n##########################################################\n\n###\n#@auth.requires_login()\n###\nimport os\n\ndef search():\n    words=None\n    pages=None\n    if request.vars.query:\n\tsearchterm=request.vars.query\n\ttypequery=request.vars.type\n        query = (db.plugin_wiki_page.body.like(\'%%%s%%\' % searchterm) |db.plugin_wiki_page.title.like(\'%%%s%%\' % searchterm) )\n        pages = db(query).select(db.plugin_wiki_page.title,db.plugin_wiki_page.summary, db.plugin_wiki_page.slug,db.plugin_wiki_page.tags,\n                                 orderby=db.plugin_wiki_page.title)\n\tif typequery=="English":\n\t\tquery= dblanguage.Bundjalung.English.like(\'%%%s%%\' % searchterm) \n\telse:\n\t\tquery= dblanguage.Bundjalung.Language_Word.like(\'%%%s%%\' % searchterm) \n\twords=dblanguage(query).select()\n    return dict(words=words, pages=pages, query=request.vars.query)\n\n\ndef pages():\n    w = db.plugin_wiki_page\n    t=db.plugin_wiki_tag\n    taglist=db(t.id>0).select(orderby=t.id)\n    words=None\n    if plugin_wiki_editor:\n    \t    pages = db(w.id>0)(w.is_active==True).select(orderby=w.title)\n    else:\n        \tpages = db(w.is_active==True)(w.is_public==True).select(orderby=w.title)\n     \n    if plugin_wiki_editor:\n        \tform=SQLFORM.factory(Field(\'title\',requires=db.plugin_wiki_page.title.requires),\n                             Field(\'from_template\',requires=IS_EMPTY_OR(IS_IN_DB(db,db.plugin_wiki_page.title))))\n\t\tif form.accepts(request.vars):\n\t\t\ttitle=request.vars.title\n\t        \tpage =db(w.title==title).select().first()\n\t\t\tif not page:\n        \t\t\tpage = w.insert(slug=title.replace(\' \',\'_\'),\n                \t        title=title,\n                        \tbody=request.vars.template and w(slug=request.vars.template).body or \'\')\n            \t\tredirect(URL(r=request,f=\'edit_page\',args=form.vars.title,vars=dict(template=request.vars.from_template or \'\')))\n    else:\n\t\tform=\'\'\n    return dict(taglist=taglist, pages=pages, form=form,query=request.vars.query)\n\ndef index():\n    page= db.plugin_wiki_page(slug="Introduction")\n    if page: pageteaser=page.body\n    else: pageteaser=""\n    return dict(page=pageteaser,title=page.title,images=images)\n\ndef about():\n    images=db(db.image.show==0).select()\n    w = db.plugin_wiki_page\n    page = w(slug="about_us")\n    if page: pageteaser=page.summary\n    else: pageteaser=""\n    return dict(page=pageteaser,title=\'Language Locations\',images=images)\n\ndef teaching():\n        #redirect(URL(\'index\'))\n    images=db(db.image.show==1).select()\n    return dict(title=\'Language Teaching\',images=images)\n\ndef map():\n    w = db.plugin_wiki_page\n    page = w(title="Index")\n    if plugin_wiki_editor:\n        form=SQLFORM.factory(Field(\'title\',requires=db.plugin_wiki_page.title.requires),  Field(\'from_template\',requires=IS_EMPTY_OR(IS_IN_DB(db,db.plugin_wiki_page.title))))\n        if form.accepts(request.vars):\n            redirect(URL(r=request,f=\'page\',args=form.vars.title.replace(\' \',\'_\'),vars=dict(template=request.vars.from_template or \'\')))\n    else:\n        form=\'\'\n    width = request.vars.width or 600\n    height = request.vars.height or 600\n\n\n    rows = plugin_gmap.set.select()\n    alcs= plugin_gmaps.set.select()\n    for row in rows:\n        row.plugin_gmap_clw= plugin_gmap.clw(row)\n        try:\n                if not row.Web_URL:\n                        row.Web_URL=dblanguage.ALC(id=plugin_gmap.id(row)).Web_URL\n                row.plugin_gmap_color = dblanguage.ALC(id=plugin_gmap.id(row)).Colour.lower()\n                row.plugin_gmap_address= plugin_gmap.address(row)\n                row.plugin_gmap_image= plugin_gmap.image(row)\n                row.plugin_gmap_ALC=plugin_gmap.ALC(row)\n                row.plugin_gmap_alt=plugin_gmap.alt(row)\n                row.plugin_gmap_popup=plugin_gmap.represent(row)\n\t\trow.login=auth.is_logged_in()\n        except:\n                pass\n    for alc in alcs:\n        alc.plugin_gmaps_alc=plugin_gmaps.alcs(alc)\n        alc.plugin_gmaps_color = plugin_gmaps.color(alc)\n        alc.plugin_gmaps_image= plugin_gmaps.image(alc)\n        alc.plugin_gmaps_address=plugin_gmaps.address(alc)\n\talc.login=auth.is_logged_in()\n    #return LOAD(\'plugin_gmap\',\'map\', ajax=True)\n\n    return dict(width=width,height=height, alcs=alcs,  rows=rows,page=page, form=form)\n\ndef contact():\n\n    form=SQLFORM.factory(\n        Field(\'your_email\',requires=IS_EMAIL()),\n        Field(\'question\',\'text\', requires=IS_NOT_EMPTY()))\n    if form.process().accepted:\n        if mail.send(to ="cat.kutay@gmail.com",\n        subject="From %s website" % language,\n\treply_to="%s" % form.vars.your_email,\n\tmessage=form.vars.question):\n          pass#   redirect(URL(\'contact\'))\n    elif form.errors:\n        form.errors.your_email=\'Unable to send email\'\n    top_message = "This form will send an email to Muurrbay. We will try to answer your request quickly"   \n    return dict(form=form, top_message=top_message)\n\n\n@auth.requires_login()\ndef edit_resource():\n\tform=None\n        resource_title=request.args(0)\n        if(resource_title==None):redirect(URL(r=request, c=\'plugin_wiki\', f=\'resources\'))\n\tslug=resource_title.strip().replace(\' \',\'_\').lower()\n        transcript=db(db.plugin_wiki_transcript.slug==slug).select().first()\n        w = db.resources\n        resource = w(slug=slug)\n        if not  resource:\n           \tredirect(URL(r=request, c=\'plugin_wiki\', f=\'resources\'))\n\telse:\n                form = crud.update(w, resource.id, deletable=False, onaccept=crud.archive,\n                next=URL(r=request,c=\'plugin_wiki\', f=\'resource\',args=resource.title))\n\n\tresource_name=os.path.join(\'file\',resource.name)\n\treturn dict(resources=None,resource=resource,resource_name=resource_name, transcript=transcript,form=form)\n\n\n@auth.requires_login()\ndef edit_resource_transcript():\n        resource_title=request.args(0)\n\tform=None\n        if(resource_title==None):redirect(URL(r=request, c=\'plugin_wiki\', f=\'resources\'))\n        slug=resource_title.strip().replace(\' \',\'_\').lower()\n        resource=db(db.resources.slug==slug).select().first()\n\tif(resource==None):redirect(URL(r=request, c=\'plugin_wiki\', f=\'resources\'))\n        transcript=db(db.plugin_wiki_transcript.slug==slug).select().first()\n\tif plugin_wiki_editor:\n    \t   if not transcript:\n        \ttranscript= w.insert(slug=slug,\n                        title=resource_title,\n                        body=request.vars.template and w(slug=request.vars.template).body or \'\')\n           form = crud.update(db.plugin_wiki_transcript, transcript, deletable=False, onaccept=crud.archive,\n                next=URL(r=request,c=\'plugin_wiki\', f=\'resource\',args=resource_title))\n\n        resource_name=os.path.join(\'file\',resource.name)\n\treturn dict(form=form, resources=None,resource=resource, resource_name=resource_name,transcript=transcript)\n\n@auth.requires_login()\ndef resources():\n\tresources=db.resources\n\tresources = db(resources.id>0).select(orderby=resources.title)            \n        if(resources==None):redirect(URL(r=request, c=\'plugin_wiki\', f=\'pages\'))\n        return dict(resource=None,resources=resources)\n\ndef resource():\n\tresource_title=request.args(0)\n\tif(resource_title==None):redirect(URL(r=request, c=\'plugin_wiki\', f=\'resources\'))\n\tslug=resource_title.strip().replace(\' \',\'_\').lower()\n        resource=db(db.resources.slug==slug).select().first()\n\tif(resource==None):redirect(URL(r=request, c=\'plugin_wiki\', f=\'resources\'))   \n\tpage=db(db.plugin_wiki_transcript.slug==slug)\n\tif (page): page=page.select().first()     \n\tresource_name=os.path.join("file",resource.name)\n\treturn dict(resources=None,resource=resource, resource_name=resource_name, page=page)\n\n\n\ndef tags_by_tag():\n\timport re\n\tif not(request.args):\n    \t     redirect(URL(r=request, c=\'plugin_wiki\', f=\'pages\'))\n\tpages=None\n\tpage=None\n\tpage_body=None\n\ttitle="No results"\n\ttry:\n\t\t\ttag_id= str(request.args[0])\n\texcept (KeyError, ValueError, TypeError):\n        \t\tredirect(URL(r=request, c=\'plugin_wiki\', f=\'pages\'))\n      \t\n\ttag=db.plugin_wiki_tag(id=tag_id)\n\tif (tag!=None):\n\t\t\ttag.is_active=True;\n\t\t \ttags=db(db.plugin_wiki_tag.parent==tag.name).select()\n\ttry:\n\t\tpage_id= str(request.args[1])\n\texcept(KeyError, IndexError,ValueError, TypeError):\n\t\tpage_id=str(request.args[0])\n\tif (page_id.isdigit()):\n\t\ttag_name=db.plugin_wiki_tag(id=tag_id).name\n\n        try:\n                tag=db.plugin_wiki_tag(id=tag_id)\n        except (KeyError, ValueError, TypeError):\n                tag=db.plugin_wiki_tag(name=tag_id)\n                tag_id=tag.id\n        if (tag!=None):\n                tag.is_active=True;\n                tags=db(db.plugin_wiki_tag.parent==tag.name).select()\n        tag_name=tag.name\n        try:\n                page_id= str(request.args[1])\n        except(KeyError, IndexError,ValueError, TypeError):\n                page_id=str(request.args[0])\n        #if(page_id.isdigit()):\n        tag_obj=db.plugin_wiki_tag(id=tag_id)\n\tif tag_obj: tag_name=tag_obj.name\n\telse: tag_name=None\n        tag_parent=tag_obj.parent\n        tag=db.plugin_wiki_tag(name=tag_parent)\n        if (tag): tag.is_active=True\n        \n\n\tquery = ((db.plugin_wiki_page.tags.like(\'%%|%s|%%\' % tag_id)))\n#        pages = db(query).select(orderby=~db.plugin_wiki_page.created_on)\n        if (tags):\n                        page = db(query).select(orderby=~db.plugin_wiki_page.created_on).first()\n                        if (page and page.worksheet):\n                                page.body=wsread_page(page)\n                                title="Latest article:"\n        else:\n                        pages = db(query).select(orderby=~db.plugin_wiki_page.created_on)\n                        if(len(pages)>0):\n                                title="Pages available are:"\n                                page=pages[0]\n                                try:\n                                        page=pages[1]\n                                except:\n                                        title="Page:"\n                                        page=pages[0]\n                                        page.body=wsread_page(pages[0])\n                                        pages=None\n\n        #else:\n    #           w = db.plugin_wiki_page\n   #            page = w(slug=page_id)\n#               if page:\n#                       page=page.select()\n#                       if (page.worksheet):page.body=wsread_page(page)\n        if(page!=None):\n                page_body=page.body\n                #if tag_name!=None:\n                #       page_body=\'\'\n        form=""\n        #read wordlist\n        query = (dblanguage.Bundjalung.Category==tag_name)\n\n        words=  dblanguage(query).select(orderby=dblanguage.Bundjalung.English)\n        for word in words:\n                word=read_word(word)\n        if (words and page==None):\n                title="Words in Category"\n        return dict(tag=tag, words=words,form=form,pages=pages,title=title,page=page,page_body=page_body)\n\n\n\ndef pages_by_tag():\n      if not(request.args):\n         redirect(URL(r=request, c=\'plugin_wiki\', f=\'pages\'))\n\n      try:\n        tag_name= str(request.args[0])\n\n      except (KeyError, ValueError, TypeError):\n        redirect(URL(r=request, c=\'plugin_wiki\', f=\'pages\'))\n      else:\n        if (tag_name==None):\n            redirect(URL(r=request, c=\'plugin_wiki\', f=\'pages\'))\n        if(tag_name=="Contact"):\n\t#contact form\n\t\tredirect(URL(r=request, c=\'plugin_wiki\', f=\'contact\'))\n        if (tag_name=="WordList"):\n\t#word list\n\t\tredirect(URL(r=request, c=\'plugin_wiki\', f=\'dictionary\'))\t\n\ttag_obj=db.plugin_wiki_tag(name=tag_name)\n\n\tif tag_obj: \n\t\ttag_id = tag_obj.id\n\t\t\n\telse: \n\t\ttry:\n\t\t\ttag_obj=db.plugin_wiki_tag(id=tag_name)\n        \t\tif tag_obj: \n\t\t\t\ttag_id = tag_obj.id\n\t\t\t\ttag_name=tag_obj.name\n        \t\telse: tag_id=None\n\t\texcept: tag_id=None \n\t#find parent tag to keep menu open\n\ttag_parent=tag_obj.parent\n\ttag=db.plugin_wiki_tag(name=tag_parent)\n\tif (tag): tag.is_active=True\n        query = ((db.plugin_wiki_page.tags.like(\'%%|%s|%%\' % tag_id))) \n#        pages = db(query).select(orderby=~db.plugin_wiki_page.created_on)\n\tpages = db(query).select()\n\tif pages:\n    \t\tsorted_pages = []\n\n\n\n    \t\tfor row in pages.sort(lambda row: row.created_on,reverse=True):\n        \t\tsorted_pages.append(row)\n\t\tpages=sorted_pages\n\t\tif (pages[0].worksheet):\n\t\t\tpages[0].body=wsread_page(pages[0])\n        else:\n                redirect(URL(r=request, c=\'plugin_wiki\', f=\'pages\'))\n\n        return dict(tag=tag, pages=pages, selected_tag=tag_name)\n\ndef user():\n\tredirect(URL(r=request, c=\'default\', f=\'user\'))\n\ndef cache_in_ram():\n    import time\n    t=cache.ram(\'time\',lambda:time.ctime(),time_expire=5)\n    return dict(time=t,link=A(\'click to reload\',_href=URL(r=request)))\n\n#@cache(request.env.path_info,time_expire=5,cache_model=cache.disk)\n\n\ndef page():\n    """\n    shows a page\n    """\n    slug= request.args(0) \n    import re\n    if slug=="Index" or slug==None:\n\tredirect(URL(r=request, c=\'plugin_wiki\', f=\'index.html\'))\n    if slug=="Admin_Help" and not auth.user:\n        redirect(URL(r=request, c=\'plugin_wiki\', f=\'pages\'))\n\n\n    w = db.plugin_wiki_page\n    page = w(slug=slug)\n    #for template\n    if (not page or not page.is_public or not page.is_active):\n    \t if plugin_wiki_editor:\n\t\tredirect(URL(r=request, c=\'plugin_wiki\', f=\'edit_page\', args=request.args))\n\t if (session):session.flash=T("Page not available")\n\n\t redirect(URL(r=request, c=\'plugin_wiki\', f=\'pages\'))\n    elif page and page.role and not auth.has_membership(page.role):    \n        raise HTTP(404)\n\t# parse pages. First History\n    if page.worksheet:\n\tredirect (URL(r=request,c=\'learning\',f=\'page\'))\n\tpage.questions=[]\n    page.attachments=[]\n    a=db.plugin_wiki_attachment\n    query = (a.tablename=="page")&(a.record_id==page.id)\n    page.attachments=db(query).select()\n    tag=page.tags\n    tags=tag.split(\'|\')\n    page_body=page.body\n    if request.extension==\'load\':\n        return plugin_wiki.render(page_body)\n    if request.extension==\'html\':         \n        return dict(form="", title=page.title, page=page, page_body=page_body, slug=slug)\n\ndef page_archive():\n    """\n    shows and old version of a page\n    """\n    id = request.args(0)\n    h = db.plugin_wiki_page_archive\n    page = h(id)\n    if not page or (not plugin_wiki_editor and (not page.is_public or not page.is_active)):\n        raise HTTP(404)\n    elif page and page.role and not auth.has_membership(page.role):\n        raise HTTP(404)\n    if request.extension!=\'html\': return page.body\n    return dict(page=page)\n\ndef create_page():\n    if plugin_wiki_editor:\n                form=SQLFORM.factory(Field(\'title\',requires=db.plugin_wiki_page.title.requires),\n                             Field(\'from_template\',requires=IS_EMPTY_OR(IS_IN_DB(db,db.plugin_wiki_page.modified_on))))\n                if form.accepts(request.vars):\n                        redirect(URL(r=request,c=\'plugin_wiki\',f=\'page_edit\',args=form.vars.title.replace(\' \',\'_\'),vars=dict(template=request.vars.from_template or \'\')))\n    else:\n                form=\'\'\n\n    return dict(form=form, pages=pages)\n\n@auth.requires_login()\ndef edit_page():\n    """\n    edit a page\n    """\n    images=[]\n    slug = request.args(0) or \'Index\'\n    tags=""\n    if request.args(1): tags=\'|\'+request.args(1)+\'|\'\n    slug=slug.replace(\' \',\'_\')\n    w = db.plugin_wiki_page\n    w.role.writable = w.role.readable = plugin_wiki_level>1\n    page = w(slug=slug)\n    """\n    db.plugin_wiki_page.tag.default=""\n    db.plugin_wiki_page.update.tags=db.plugin_wiki_page.tags\n    """\n    if not page:\n        db.plugin_wiki_page.tags.default=tags\n\n        page = w.insert(slug=slug,\n                        title=slug.replace(\'_\',\' \'),\n                        tags=tags,\n                        body=request.vars.template and w(slug=request.vars.template).body or \'\')\n    else:\n\ttags = page.tags #in practice \'xyz\' would be a variable\n    if page.title=="Index":\n\tform = crud.update(w, page, deletable=True, onaccept=crud.archive,\n                       next=URL(r=request, c=\'plugin_wiki\', f=\'index\'))\n    else:\t\n\tif page.worksheet:\n\t\timages=dblanguage(dblanguage.images.id>0).select()\n\telse:\n\t\timages=[]\n\tform = crud.update(w, page, deletable=True, onaccept=crud.archive,\n        next=URL(r=request,c=\'plugin_wiki\', f=\'page\',args=slug))\n\n    return dict(images=images, form=form,page=page,tags=tags)\n\n\ndef page_history():\n    """\n    show page changelog\n    """\n    slug = request.args(0) or \'index\'\n    w = db.plugin_wiki_page\n    h = db.plugin_wiki_page_archive\n    page = w(slug=slug)\n    history = db(h.current_record==page.id).select(orderby=~h.modified_on)\n    return dict(page=page, history=history)\n\n\ndef tags():\n    form = crud.create(db.plugin_wiki_tag)\n    tags = db(db.plugin_wiki_tag.id > 0).select(orderby=db.plugin_wiki_tag.id)\n    return dict(form=form, tags=tags)\n\n\ndef edit_tag():\n    if not request.args:\n        session.flash = T(\'Invalid tag\')\n        redirect(URL(r=request, f=\'_tags\'))\n    form = crud.update(db.plugin_wiki_tag, request.args[0], deletable=True)\n    return dict(form=form)\n\n##########################################################\n# ajax callbacks\n##########################################################\ndef attachments():\n    """\n    allows to edit page attachments\n    """\n    a=db.plugin_wiki_attachment\n    a.tablename.default=tablename=request.args(0)\n    a.record_id.default=record_id=request.args(1)\n    #if request.args(2): a.filename.writable=False\n    form=crud.update(a,request.args(2),deletable=True,\n                     next=URL(r=request,args=request.args[:2]))\n    if request.vars.list_all:\n        query = a.id>0\n    else:\n        query = (a.tablename==tablename)&(a.record_id==record_id)\n    rows=db(query).select(orderby=a.name)\n    return dict(form=form,rows=rows)\n\ndef attachment():\n    """\n    displays an attachments\n    """\n    short=request.args(0)\n    if plugin_wiki_authorize_attachments and \\\n            not short in session.plugin_wiki_attachments:\n        raise HTTP(400)\n    a=db.plugin_wiki_attachment\n    record=a(short.split(\'.\')[0])\n    if not record: raise HTTP(400)\n    request.args[0]=record.filename\n    return response.download(request,db)\n\n\ndef images_by_name():\n    short=request.args(0)\n    a=db.plugin_wiki_images\n    record=a(short[0])\n    if not record:return  record\n    request.args[0]=record.filename\n    return response.download(request,db)\n\ndef images():\n    title="Images"\n    images = dblanguage().select(dblanguage.images.ALL, orderby=dblanguage.images.title)\n\n    return dict(images=images)\n\ndef show_image():\n    image = dblanguage.images(request.args(0,cast=int)) or redirect(URL(\'index\'))\n    dblanguage.post.image_id.default = image.id\n    form = SQLFORM(dblanguage.post)\n    if form.process().accepted:\n        response.flash = \'your comment is posted\'\n    comments = dblanguage(dblanguage.post.image_id==image.id).select()\n    return dict(image=image, comments=comments, form=form)\n\n@auth.requires_login()\ndef manage_images():\n    grid = SQLFORM.smartgrid(dblanguage.images,linked_tables=[\'post\'])\n    return dict(grid=grid)\n\ndef download():\n    return response.download(request, db)\n\ndef comment():\n    """\n    post a comment\n    """\n    tablename, record_id = request.args(0), request.args(1)\n    table=db.plugin_wiki_comment\n    if record_id==\'None\': record_id=0\n    table.tablename.default=tablename\n    table.record_id.default=record_id\n    if auth.user:\n        form = crud.create(table)\n    else:\n        form = A(T(\'login to comment\'),_href=auth.settings.login_url)\n    comments=db(table.tablename==tablename)\\\n        (table.record_id==record_id).select()\n    return dict(form = form,comments=comments)\n###\n##@auth.requires_login()\n##\ndef jqgrid():\n    """\n    jqgrid callback retrieves records\n    http://trirand.com/blog/jqgrid/server.php?q=1&_search=false&nd=1267835445772&rows=10&page=1&sidx=amount&sord=asc&searchField=&searchString=&searchOper=\n    """\n    from gluon.serializers import json\n    import cgi\n    hash_vars = \'dbname|tablename|columns|fieldname|fieldvalue|user\'.split(\'|\')\n    if not URL.verify(request,hmac_key=auth.settings.hmac_key,\n                      hash_vars=hash_vars,salt=auth.user_id):\n        raise HTTP(404)    \n    tablename = request.vars.tablename or error()\n    columns = (request.vars.columns or error()).split(\',\')\n    rows=int(request.vars.rows or 25)\n    page=int(request.vars.page or 0)\n    sidx=request.vars.sidx or \'id\'\n    sord=request.vars.sord or \'asc\'\n    searchField=request.vars.searchField\n    searchString=request.vars.searchString\n    searchOper={\'eq\':lambda a,b: a==b,\n                \'nq\':lambda a,b: a!=b,\n                \'gt\':lambda a,b: a>b,\n                \'ge\':lambda a,b: a>=b,\n                \'lt\':lambda a,b: a<b,\n                \'le\':lambda a,b: a<=b,\n                \'bw\':lambda a,b: a.like(b+\'%\'),\n                \'bn\':lambda a,b: ~a.like(b+\'%\'),\n                \'ew\':lambda a,b: a.like(\'%\'+b),\n                \'en\':lambda a,b: ~a.like(\'%\'+b),\n                \'cn\':lambda a,b: a.like(\'%\'+b+\'%\'),\n                \'nc\':lambda a,b: ~a.like(\'%\'+b+\'%\'),\n                \'in\':lambda a,b: a.belongs(b.split()),\n                \'ni\':lambda a,b: ~a.belongs(b.split())}\\\n                [request.vars.searchOper or \'eq\']\n    table=globals()[dbname][tablename]\n    if request.vars.fieldname:\n        names = request.vars.fieldname.split(\'|\')\n        values = request.vars.fieldvalue.split(\'|\')\n        query = reduce(lambda a,b:a&b,\n                       [table[names[i]]==values[i] for i in range(len(names))])\n    else:\n        query = table.id>0\n    dbset = table._db(query)\n    if searchField: dbset=dbset(searchOper(table[searchField],searchString))\n    orderby = table[sidx]\n    if sord==\'desc\': orderby=~orderby\n    limitby=(rows*(page-1),rows*page)\n    fields = [table[f] for f in columns]\n    records = dbset.select(orderby=orderby,limitby=limitby,*fields)\n    nrecords = dbset.count()\n    items = {}\n    items[\'page\']=page\n    items[\'total\']=int((nrecords+(rows-1))/rows)\n    items[\'records\']=nrecords\n    readable_fields=[f.name for f in fields if f.readable]\n    def f(value,fieldname):\n        r = table[fieldname].represent\n        if r: value=r(value)\n        try: return value.xml()\n        except: return cgi.escape(str(value))\n    items[\'rows\']=[{\'id\':r.id,\'cell\':[f(r[x],x) for x in readable_fields]} \\\n                       for r in records]\n    return json(items)\n\n\ndef _tags():\n    import re\n    db_tag = db.plugin_wiki_tag\n    db_link = db.plugin_wiki_link\n    table_name=request.args(0)\n    record_id=request.args(1)\n    if not auth.user_id:\n        return \'\'\n    form = SQLFORM.factory(Field(\'tag_name\',requires=IS_SLUG()))\n    if request.vars.tag_name:\n        for item in request.vars.tag_name.split(\',\'):\n            tag_name = re.compile(\'\\s+\').sub(\' \',item).strip()\n            tag_exists = tag = db(db_tag.name==tag_name).select().first()\n            if not tag_exists:\n                tag = db_tag.insert(name=tag_name, links=1)\n            link = db(db_link.tag==tag.id)\\\n                (db_link.table_name==table_name)\\\n                (db_link.record_id==record_id).select().first()\n            if not link:\n                db_link.insert(tag=tag.id,\n                               table_name=table_name,record_id=record_id)\n                if tag_exists:\n                    tag.update_record(links=tag.links+1)\n    for key in request.vars:\n        if key[:6]==\'delete\':\n            link_id=key[6:]\n            link=db_link[link_id]\n            del db_link[link_id]\n            db_tag[link.tag] = dict(links=db_tag[link.tag].links-1)\n    links = db(db_link.table_name==table_name)\\\n              (db_link.record_id==record_id).select()\\\n              .sort(lambda row: row.tag.name.upper())\n    return dict(links=links, form=form)\n\ndef cloud():\n    tags = db(db.plugin_wiki_tag.links>0).select(limitby=(0,20))\n    if tags:\n        mc = max([tag.links for tag in tags])\n    return DIV(_class=\'plugin_wiki_tag_cloud\',*[SPAN(A(tag.name,_href=URL(r=request,c=\'plugin_wiki\',f=\'page\',args=(\'tag\',tag.id))),_style=\'font-size:%sem\' % (0.8+1.0*tag.links/mc)) for tag in tags])\n\n@auth.requires(plugin_wiki_editor)\ndef widget_builder():\n    """\n    >> inspect.getargspec(PluginWikiWidgets.tags)\n    ([\'table\', \'record_id\'], None, None, (\'None\', None))\n    >>> dir(PluginWikiWidgets)\n    """\n    import inspect\n    name=request.vars.name\n    if plugin_wiki_widgets==\'all\':\n        widgets = [\'\']+[item for item in dir(PluginWikiWidgets) if item[0]!=\'_\']\n    else:\n        widgets = plugin_wiki_widgets\n    form=FORM(LABEL(\'Widget Name: \'), SELECT(_name=\'name\',value=name,\n                     _onchange="jQuery(this).parent().submit()",*widgets))\n    widget_code=\'\'\n    if name in widgets: \n        a,b,c,d=inspect.getargspec(getattr(PluginWikiWidgets,name))\n        a,d=a or [],d or []\n        null = lambda:None\n        d=[null]*(len(a)-len(d))+[x for x in d]\n        ESC=\'x\'\n        fields = [Field(ESC+a[i],label=a[i],default=d[i]!=null and d[i] or \'\',\n                        requires=(d[i]==null) and IS_NOT_EMPTY() or None,\n                        comment=(d[i]==null) and \'required\' or \'\') \\\n                      for i in range(len(a))]\n        form_widget=SQLFORM.factory(hidden=dict(name=name),*fields)\n        doc = getattr(PluginWikiWidgets,name).func_doc or \'\'\n        if form_widget.accepts(request.vars):\n            keys=[\'name: %s\' % request.vars.name]\n            for name in a:\n                if request.vars[ESC+name]:\n                    keys.append(name+\': %s\' % request.vars[ESC+name])\n            widget_code=CODE(\'``\\n%s\\n``:widget\' % \'\\n\'.join(keys))\n    else:\n        doc=\'\'\n        form_widget=\'\'\n    return dict(form=form,form_widget=form_widget,doc=doc,\n                widget_code=widget_code)\n\n\ndef star_rate():\n    N=5 #max no of stars (if you use split stars you\'ll get a rating out of 10)\n    pm = db.plugin_wiki_rating\n    pa = db.plugin_wiki_rating_aux\n    tablename = request.args(0)\n    record_id = request.args(1)\n    rating = abs(float(request.vars.rating or 0)) \n    \n    try:\n        db[tablename] #if there\'s no such table. Salute.\n        if rating>N or rating<0: raise Exception #similar if rating is simulated.\n        if not db[tablename][record_id]: raise Exception #also if there\'s no specified record in table\n        if not auth.user_id: raise Exception #user has to login to rate\n    except:\n        return \'\'\n        \n    master = db(pm.tablename==tablename)(pm.record_id==record_id).select().first()    \n    \n    if master:\n        master_rating, master_counter = master.rating, master.counter\n    else:\n        master_rating, master_counter = 0, 0\n        master=pm.insert(tablename=tablename,record_id=record_id,rating=master_rating,counter=master_counter)        \n        \n    record = db(pa.master==master)(pa.created_by==auth.user_id).select().first()\n        \n    if rating:\n        if not record:\n           record = pa.insert(master=master,rating=rating,created_by=auth.user_id)\n           master_rating = (master_rating*master_counter + rating)/(master_counter+1)\n           master_counter = master_counter + 1\n        else:\n           master_counter = master_counter\n           master_rating = (master_rating*master_counter - record.rating + rating)/master_counter\n           record.update_record(rating=rating)\n        master.update_record(rating=master_rating, counter=master_counter)        \n    try:  \n        db[tablename][record_id][\'rating\']\n    except:\n        return \'\'\n    else:\n        db[tablename][record_id].update_record(rating=master_rating)\n        \n    return \'\'\n   \n\nresponse._vars=response._caller(edit_resource_transcript)\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__hash__'
p12
S"<method-wrapper '__hash__' of exceptions.NameError object>"
p13
sS'__setattr__'
p14
S"<method-wrapper '__setattr__' of exceptions.NameError object>"
p15
sS'__reduce_ex__'
p16
S'<built-in method __reduce_ex__ of exceptions.NameError object>'
p17
sS'__getslice__'
p18
S"<method-wrapper '__getslice__' of exceptions.NameError object>"
p19
sS'__getitem__'
p20
S"<method-wrapper '__getitem__' of exceptions.NameError object>"
p21
sS'__setstate__'
p22
S'<built-in method __setstate__ of exceptions.NameError object>'
p23
sS'args'
p24
S'("global name \'w\' is not defined",)'
p25
sS'__reduce__'
p26
S'<built-in method __reduce__ of exceptions.NameError object>'
p27
sS'__str__'
p28
S"<method-wrapper '__str__' of exceptions.NameError object>"
p29
sS'__format__'
p30
S'<built-in method __format__ of exceptions.NameError object>'
p31
sS'__getattribute__'
p32
S"<method-wrapper '__getattribute__' of exceptions.NameError object>"
p33
sS'__class__'
p34
S"<type 'exceptions.NameError'>"
p35
sS'__unicode__'
p36
S'<built-in method __unicode__ of exceptions.NameError object>'
p37
sS'__delattr__'
p38
S"<method-wrapper '__delattr__' of exceptions.NameError object>"
p39
sS'__subclasshook__'
p40
S'<built-in method __subclasshook__ of type object>'
p41
sS'__repr__'
p42
S"<method-wrapper '__repr__' of exceptions.NameError object>"
p43
sS'__dict__'
p44
S'{}'
p45
sS'__sizeof__'
p46
S'<built-in method __sizeof__ of exceptions.NameError object>'
p47
sS'__doc__'
p48
S"'Name not found globally.'"
p49
sS'__init__'
p50
S"<method-wrapper '__init__' of exceptions.NameError object>"
p51
sS'__new__'
p52
S'<built-in method __new__ of type object>'
p53
ssS'evalue'
p54
S"global name 'w' is not defined"
p55
sS'request'
p56
cgluon.html
XML_unpickle
p57
(S'sOj\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>Bundjalung</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>Wurm2a</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>58.173.119.87</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>plugin_wiki</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_admin</td><td style="vertical-align:top;">:</td><td><div>113.197.9.114-8d7826e3-4ad3-493e-8dd1-3222cde96156<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_bundjalung</td><td style="vertical-align:top;">:</td><td><div>50456:94b8b9b1-c766-49c6-a9ae-348dfb373d2a<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">CONTEXT_DOCUMENT_ROOT</td><td style="vertical-align:top;">:</td><td><div>/home/Language/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">CONTEXT_PREFIX</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">DOCUMENT_ROOT</td><td style="vertical-align:top;">:</td><td><div>/home/Language/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">GATEWAY_INTERFACE</td><td style="vertical-align:top;">:</td><td><div>CGI/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8,es;q=0.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>session_id_admin=113.197.9.114-8d7826e3-4ad3-493e-8dd1-3222cde96156; session_id_bundjalung=&quot;50456:94b8b9b1-c766-49c6-a9ae-348dfb373d2a&quot;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>bundjalung.dalang.com.au</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_REFERER</td><td style="vertical-align:top;">:</td><td><div>http://bundjalung.dalang.com.au/plugin_wiki/resource/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_UPGRADE_INSECURE_REQUESTS</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.125 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/plugin_wiki/edit_resource_transcript/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_TRANSLATED</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py/wsgihandler.py/plugin_wiki/edit_resource_transcript/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>58.173.119.87</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>42019</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_SCHEME</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_URI</td><td style="vertical-align:top;">:</td><td><div>/plugin_wiki/edit_resource_transcript/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_FILENAME</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py/wsgihandler.py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_NAME</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_ADDR</td><td style="vertical-align:top;">:</td><td><div>129.94.172.214</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_ADMIN</td><td style="vertical-align:top;">:</td><td><div>cat.kutay@gmail.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>bundjalung.dalang.com.au</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>80</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SIGNATURE</td><td style="vertical-align:top;">:</td><td><div>&lt;address&gt;Apache/2.4.7 (Ubuntu) Server at bundjalung.dalang.com.au Port 80&lt;/address&gt;\n</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>Apache/2.4.7 (Ubuntu)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/usr/local/web2py/applications/Dharug/&#x27;, &#x27;/usr/local/web2py/applications/Language/&#x27;, &#x27;/usr/local/web2py/applications/Bundjalung/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">context_document_root</td><td style="vertical-align:top;">:</td><td><div>/home/Language/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">context_prefix</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;Bundjalung&#x27;, &#x27;Language&#x27;, &#x27;Dharug&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">document_root</td><td style="vertical-align:top;">:</td><td><div>/home/Language/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain_application</td><td style="vertical-align:top;">:</td><td><div>Bundjalung</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain_controller</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain_function</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gateway_interface</td><td style="vertical-align:top;">:</td><td><div>CGI/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8,es;q=0.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>session_id_admin=113.197.9.114-8d7826e3-4ad3-493e-8dd1-3222cde96156; session_id_bundjalung=&quot;50456:94b8b9b1-c766-49c6-a9ae-348dfb373d2a&quot;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>bundjalung.dalang.com.au</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_referer</td><td style="vertical-align:top;">:</td><td><div>http://bundjalung.dalang.com.au/plugin_wiki/resource/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_upgrade_insecure_requests</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.125 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>129.94.172.214</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>mindalgali</div></td></tr><tr><td><div>www.dharug.dalang.com.au</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>mindalgali.cse.unsw.EDU.AU</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.application_group</td><td style="vertical-align:top;">:</td><td><div>dalang.com.au|</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.callable_object</td><td style="vertical-align:top;">:</td><td><div>application</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.enable_sendfile</td><td style="vertical-align:top;">:</td><td><div>0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.handler_script</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.input_chunked</td><td style="vertical-align:top;">:</td><td><div>0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.listener_host</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.listener_port</td><td style="vertical-align:top;">:</td><td><div>80</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.process_group</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.queue_start</td><td style="vertical-align:top;">:</td><td><div>1438609990039728</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.request_handler</td><td style="vertical-align:top;">:</td><td><div>wsgi-script</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.script_reloading</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>3</div></td></tr><tr><td><div>4</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_application_group</td><td style="vertical-align:top;">:</td><td><div>dalang.com.au|</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_callable_object</td><td style="vertical-align:top;">:</td><td><div>application</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_enable_sendfile</td><td style="vertical-align:top;">:</td><td><div>0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_handler_script</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_input_chunked</td><td style="vertical-align:top;">:</td><td><div>0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_listener_host</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_listener_port</td><td style="vertical-align:top;">:</td><td><div>80</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_process_group</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_queue_start</td><td style="vertical-align:top;">:</td><td><div>1438609990039728</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_request_handler</td><td style="vertical-align:top;">:</td><td><div>wsgi-script</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_script_reloading</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">mod_wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>3</div></td></tr><tr><td><div>4</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/plugin_wiki/edit_resource_transcript/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_translated</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py/wsgihandler.py/plugin_wiki/edit_resource_transcript/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>58.173.119.87</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>42019</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/Bundjalung/plugin_wiki/edit_resource_transcript/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_filename</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py/wsgihandler.py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_name</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_addr</td><td style="vertical-align:top;">:</td><td><div>129.94.172.214</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_admin</td><td style="vertical-align:top;">:</td><td><div>cat.kutay@gmail.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>bundjalung.dalang.com.au</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>80</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_signature</td><td style="vertical-align:top;">:</td><td><div>&lt;address&gt;Apache/2.4.7 (Ubuntu) Server at bundjalung.dalang.com.au Port 80&lt;/address&gt;\n</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>Apache/2.4.7 (Ubuntu)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_crontype</td><td style="vertical-align:top;">:</td><td><div>soft</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_original_uri</td><td style="vertical-align:top;">:</td><td><div>/plugin_wiki/edit_resource_transcript/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.9.12-stable+timestamp.2015.01.17.06.11.03</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;mod_wsgi.Log object at 0x7f268072df70&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x7f26803bae40&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;mod_wsgi.Input object at 0x7f268072d1b0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;mod_wsgi.Log object at 0x7f268072df70&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x7f26803bae40&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;mod_wsgi.Input object at 0x7f268072d1b0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py/applications/Bundjalung/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>edit_resource_transcript</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/usr/local/web2py/applications/Dharug/&#x27;, &#x27;/usr/local/web2py/applications/Language/&#x27;, &#x27;/usr/local/web2py/applications/Bundjalung/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;Bundjalung&#x27;, &#x27;Language&#x27;, &#x27;Dharug&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/usr/local/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>129.94.172.214</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>mindalgali</div></td></tr><tr><td><div>www.dharug.dalang.com.au</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>mindalgali.cse.unsw.EDU.AU</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_crontype</td><td style="vertical-align:top;">:</td><td><div>soft</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.9.12-stable+timestamp.2015.01.17.06.11.03</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_sheduler</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_shell</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 8, 3, 23, 53, 10, 40341)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/plugin_wiki/edit_resource_transcript/Wurm2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 8, 3, 13, 53, 10, 40358)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uuid</td><td style="vertical-align:top;">:</td><td><div>Bundjalung/58.173.119.87.2015-08-03.23-53-10.4cde489e-43c7-4a94-9556-b0d30828b9f8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0x7f268072d610&gt;</div></td></tr></table></div>'
tRp58
sS'frames'
p59
(lp60
(dp61
S'file'
p62
S'/usr/local/web2py/gluon/restricted.py'
p63
sS'dump'
p64
(dp65
S'environment'
p66
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, ...}"
p67
sS'ccode'
p68
S'<code object <module> at 0x7f2680823430, file "/.../Bundjalung/controllers/plugin_wiki.py", line 11>'
p69
ssS'lnum'
p70
I224
sS'lines'
p71
(dp72
I224
S'        exec ccode in environment'
p73
sI225
S'    except HTTP:'
p74
sI226
S'        raise'
p75
sI227
S'    except RestrictedError:'
p76
sI228
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p77
sI219
S'    try:'
p78
sI220
S'        if isinstance(code, types.CodeType):'
p79
sI221
S'            ccode = code'
p80
sI222
S'        else:'
p81
sI223
S'            ccode = compile2(code, layer)'
p82
ssS'call'
p83
S"(code='# This file was developed by Massimo Di Pierro\\n#..._vars=response._caller(edit_resource_transcript)\\n', environment={'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, ...}, layer='/usr/local/web2py/applications/Bundjalung/controllers/plugin_wiki.py')"
p84
sS'func'
p85
S'restricted'
p86
sa(dp87
g62
S'/usr/local/web2py/applications/Bundjalung/controllers/plugin_wiki.py'
p88
sg64
(dp89
sg70
I748
sg71
(dp90
I737
S'        master.update_record(rating=master_rating, counter=master_counter)'
p91
sI738
S'    try:'
p92
sI739
S"        db[tablename][record_id]['rating']"
p93
sI740
S'    except:'
p94
sI741
S"        return ''"
p95
sI742
S'    else:'
p96
sI743
S'        db[tablename][record_id].update_record(rating=master_rating)'
p97
sI744
S''
sI745
S"    return ''"
p98
sI746
S''
ssg83
S'()'
p99
sg85
S'<module>'
p100
sa(dp101
g62
S'/usr/local/web2py/gluon/globals.py'
p102
sg64
(dp103
S'self'
p104
S'undefined'
p105
sS'f'
S'<function edit_resource_transcript>'
p106
ssg70
I393
sg71
(dp107
I388
S"        self.flash = ''            # used by the default view layout"
p108
sI389
S'        self.meta = Storage()      # used by web2py_ajax.html'
p109
sI390
S'        self.menu = []             # used by the default view layout'
p110
sI391
S'        self.files = []            # used by web2py_ajax.html'
p111
sI392
S'        self._vars = None'
p112
sI393
S'        self._caller = lambda f: f()'
p113
sI394
S'        self._view_environment = None'
p114
sI395
S'        self._custom_commit = None'
p115
sI396
S'        self._custom_rollback = None'
p116
sI397
S"        self.generic_patterns = ['*']"
p117
ssg83
S'(f=<function edit_resource_transcript>)'
p118
sg85
S'<lambda>'
p119
sa(dp120
g62
S'/usr/local/web2py/gluon/tools.py'
p121
sg64
(dp122
S'action'
p123
S'<function edit_resource_transcript>'
p124
sS'a'
S'()'
p125
sS'b'
g45
ssg70
I3444
sg71
(dp126
I3439
S'                    flag = condition'
p127
sI3440
S'                if not flag:'
p128
sI3441
S'                    current.session.flash = self.messages.access_denied'
p129
sI3442
S'                    return call_or_redirect('
p130
sI3443
S'                        self.settings.on_failed_authorization)'
p131
sI3444
S'                return action(*a, **b)'
p132
sI3445
S'            f.__doc__ = action.__doc__'
p133
sI3446
S'            f.__name__ = action.__name__'
p134
sI3447
S'            f.__dict__.update(action.__dict__)'
p135
sI3448
S'            return f'
p136
ssg83
S'(*a=(), **b={})'
p137
sg85
S'f'
sa(dp138
g62
S'/usr/local/web2py/applications/Bundjalung/controllers/plugin_wiki.py'
p139
sg64
(dp140
S'body'
p141
g105
sS'title'
p142
g105
sS'global request'
p143
S"<Storage {'_vars': <Storage {}>, 'function': 'ed...': '/usr/local/web2py/applications/Bundjalung/'}>"
p144
sS'request.vars.template'
p145
S'None'
p146
sS'resource_title'
p147
S"'Wurm2a'"
p148
sS'w'
g105
sS'request.vars'
p149
S'<Storage {}>'
p150
sS').body'
p151
g105
sS'transcript'
p152
S'None'
p153
sS'slug'
p154
S"'wurm2a'"
p155
ssg70
I160
sg71
(dp156
I160
S'        \ttranscript= w.insert(slug=slug,'
p157
sI161
S'                        title=resource_title,'
p158
sI162
S"                        body=request.vars.template and w(slug=request.vars.template).body or '')"
p159
sI163
S'           form = crud.update(db.plugin_wiki_transcript, transcript, deletable=False, onaccept=crud.archive,'
p160
sI164
S"                next=URL(r=request,c='plugin_wiki', f='resource',args=resource_title))"
p161
sI155
S'        resource=db(db.resources.slug==slug).select().first()'
p162
sI156
S"\tif(resource==None):redirect(URL(r=request, c='plugin_wiki', f='resources'))"
p163
sI157
S'        transcript=db(db.plugin_wiki_transcript.slug==slug).select().first()'
p164
sI158
S'\tif plugin_wiki_editor:'
p165
sI159
S'    \t   if not transcript:'
p166
ssg83
S'()'
p167
sg85
S'edit_resource_transcript'
p168
sasS'pyver'
p169
S'Python 2.7.6: /usr/bin/python (prefix: /usr)'
p170
sS'session'
p171
g57
(S's\x00\n\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">auth</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">expiration</td><td style="vertical-align:top;">:</td><td><div>3600</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">hmac_key</td><td style="vertical-align:top;">:</td><td><div>321d5c27-c6f0-471a-9a18-61c0e668c25f</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_visit</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2015, 8, 3, 23, 47, 43, 561059)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remember_me</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">Role_Name</td><td style="vertical-align:top;">:</td><td><div>teacher</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">email</td><td style="vertical-align:top;">:</td><td><div>ckutay@cities.org.au</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">first_name</td><td style="vertical-align:top;">:</td><td><div>Cat</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">id</td><td style="vertical-align:top;">:</td><td><div>1L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_name</td><td style="vertical-align:top;">:</td><td><div>Kutay</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_id</td><td style="vertical-align:top;">:</td><td><div>0L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">reset_password_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">username</td><td style="vertical-align:top;">:</td><td><div>cat.kutay</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user_groups</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">1</td><td style="vertical-align:top;">:</td><td><div>developer</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr></table></div>'
tRp172
sS'etype'
p173
S"<type 'exceptions.NameError'>"
p174
sS'date'
p175
S'Mon Aug  3 23:53:10 2015'
p176
sS'response'
p177
g57
(S'su0\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0x7f26810af068&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_bundjalung</td><td style="vertical-align:top;">:</td><td><div>50456:94b8b9b1-c766-49c6-a9ae-348dfb373d2a<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>/Bundjalung/static/plugin_multiselect/jquery.dimensions.js</div></td></tr><tr><td><div>/Bundjalung/static/plugin_multiselect/jquery.multiselect.js</div></td></tr><tr><td><div>/Bundjalung/static/plugin_multiselect/jquery.multiselect.css</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">form_label_separator</td><td style="vertical-align:top;">:</td><td><div>: </div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">formstyle</td><td style="vertical-align:top;">:</td><td><div>table3cols</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>*</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menuAbout</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>People</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/page/people</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Traditional country</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/page/traditional_country</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Language background</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/page/language_background</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Outline of the language</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/page/outline_of_the_language</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Outline of resources</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/page/outline_of_resources</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>History of the project</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/page/history</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menuLogin</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Logout</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/user/logout</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menuResource</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Dictionary Book</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/page/dictionary</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Language Resources</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/resources</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Written examples</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/page/written_examples_of_the_language</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Work Sheets</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/learning/pages</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menuTop</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Home</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/index.html</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>About Us</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/page/about_us</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Dictionary</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/language/dictionary</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Resources</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/resources</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Accept Regos</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/appadmin/update/db.auth_user/registration_key/pending</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Change Password</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/user/change_password</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Contact</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_wiki/contact</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu_edit</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Edit</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/design/Bundjalung</div></td></tr><tr><td><div><table><tr><td><div><table><tr><td><div>Controller</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/edit/Bundjalung/controllers/default.py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>View</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/edit/Bundjalung/views/plugin_wiki/edit_resource_transcript.html</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Layout</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/edit/Bundjalung/views/layout.html</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Stylesheet</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/edit/Bundjalung/static/base.css</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>DB Model</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/edit/Bundjalung/models/db.py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Menu Model</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/edit/Bundjalung/models/menu.py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Database</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/appadmin</div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu_spread</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Index</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/plugin_spreadsheet</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^plugin_wiki/\\w+\\.py$</div></td></tr><tr><td><div>^plugin_wiki/edit_resource_transcript/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>58.173.119.87</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_key</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_bundjalung</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_db_record_id</td><td style="vertical-align:top;">:</td><td><div>50456L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_db_table</td><td style="vertical-align:top;">:</td><td><div>&lt;Table web2py_session_Bundjalung (id,locked,client_ip,created_datetime,modified_datetime,unique_key,session_data)&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_db_unique_key</td><td style="vertical-align:top;">:</td><td><div>94b8b9b1-c766-49c6-a9ae-348dfb373d2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>62daebaa706568274e6b0cacdbcadf9f</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>50456:94b8b9b1-c766-49c6-a9ae-348dfb373d2a</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_bundjalung</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>Bundjalung</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>db</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">start</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">title</td><td style="vertical-align:top;">:</td><td><div>Bundjalung-Yugambeh Dictionary</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>plugin_wiki/edit_resource_transcript.html</div></td></tr></table></div>'
tRp178
sS'locals'
p179
(dp180
S'transcript'
p181
S'None'
p182
sS'resource'
p183
S"<Row {'name': 'wurm_s03_002882a_cbb724da0d.mp3',...'id': 42L, 'slug': 'wurm2a', 'description': ' '}>"
p184
sS'slug'
p185
S"'wurm2a'"
p186
sS'form'
p187
S'None'
p188
sS'resource_title'
p189
S"'Wurm2a'"
p190
sssS'traceback'
p191
S'Traceback (most recent call last):\n  File "/usr/local/web2py/gluon/restricted.py", line 224, in restricted\n    exec ccode in environment\n  File "/usr/local/web2py/applications/Bundjalung/controllers/plugin_wiki.py", line 748, in <module>\n  File "/usr/local/web2py/gluon/globals.py", line 393, in <lambda>\n    self._caller = lambda f: f()\n  File "/usr/local/web2py/gluon/tools.py", line 3444, in f\n    return action(*a, **b)\n  File "/usr/local/web2py/applications/Bundjalung/controllers/plugin_wiki.py", line 160, in edit_resource_transcript\n    transcript= w.insert(slug=slug,\nNameError: global name \'w\' is not defined\n'
p192
s.